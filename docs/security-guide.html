<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Security Guide - JagWell Documentation</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="icon" href="pictures/logo.png" />
</head>
<body>
  <div class="container">
    <header>
      <div class="header-content">
        <img src="pictures/logo.png" alt="JagWell Logo" class="logo">
        <h1>Security Guide - JagWell Documentation</h1>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="admin-guide.html">Admin Guide</a></li>
          <li><a href="doctor-guide.html">Doctor Guide</a></li>
          <li><a href="student-guide.html">Student Guide</a></li>
          <li><a href="api-reference.html">API Reference</a></li>
          <li><a href="security-guide.html">Security Guide</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="section">
        <h2>Security Overview</h2>
        <p>JagWell is built with security as a top priority. The application implements multiple layers of security to protect user data and maintain privacy.</p>
      </section>

      <section class="section">
        <h2>Authentication Security</h2>
        
        <h3>Password Security</h3>
        <p>All passwords are securely hashed using bcrypt with a salt rounds value of 10. The system never stores plain text passwords.</p>
        
        <h3>JWT Tokens</h3>
        <p>Authentication is handled using JSON Web Tokens (JWT) with the following security measures:</p>
        <ul>
          <li>Tokens expire after 1 day</li>
          <li>Tokens are stored in HttpOnly cookies to prevent XSS attacks</li>
          <li>Token secrets are stored in environment variables</li>
          <li>Stateless authentication for scalability</li>
        </ul>
      </section>

      <section class="section">
        <h2>Data Security</h2>
        
        <h3>Database Security</h3>
        <p>The application uses SQLite with the following security practices:</p>
        <ul>
          <li>All database queries use parameterized statements to prevent SQL injection</li>
          <li>Role-based access controls limit what data users can access</li>
          <li>Database connection is properly closed after each operation</li>
        </ul>
        
        <h3>Privacy Protection</h3>
        <p>Personal health information is protected in several ways:</p>
        <ul>
          <li>All sensitive data is stored locally in the institution's database</li>
          <li>Patient records are accessible only to authorized personnel</li>
          <li>Anonymous wellness trends are available for statistical analysis</li>
          <li>Student IDs are provided by the school and not the wellness app</li>
        </ul>
      </section>

      <section class="section">
        <h2>Content Security Policy (CSP)</h2>
        <p>JagWell implements a strict Content Security Policy via Helmet to prevent XSS attacks:</p>
        
        <h3>CSP Directives</h3>
        <ul>
          <li><code>script-src-attr 'none'</code>: Prohibits inline event handlers (onclick, onchange, etc.)</li>
          <li><code>script-src 'self'</code>: Only allows scripts from the same origin</li>
          <li><code>style-src 'self' 'unsafe-inline'</code>: Allows styles from same origin and inline styles</li>
          <li>All other directives follow Helmet's default secure policies</li>
        </ul>
        
        <h3>Compliance Guidelines</h3>
        <p>When developing features, follow these CSP-compliant patterns:</p>
        <ul>
          <li>Use <code>addEventListener</code> to attach event handlers in JavaScript files</li>
          <li>Create elements programmatically using <code>document.createElement()</code></li>
          <li>Attach event listeners directly to created elements using <code>addEventListener()</code></li>
        </ul>
      </section>

      <section class="section">
        <h2>Server Security</h2>
        
        <h3>Helmet Middleware</h3>
        <p>Helmet is used to secure HTTP headers:</p>
        <ul>
          <li>Hide potentially sensitive information in the X-Powered-By header</li>
          <li>Add X-Content-Type-Options header to prevent MIME-type sniffing</li>
          <li>Include X-Frame-Options header to prevent clickjacking</li>
          <li>Add Strict-Transport-Security header for HSTS</li>
        </ul>
        
        <h3>Environment Security</h3>
        <p>Sensitive information is properly protected:</p>
        <ul>
          <li>JWT secrets and other sensitive data are stored in <code>.env</code> files</li>
          <li>The <code>.env</code> file is in <code>.gitignore</code> and not included in the repository</li>
          <li>Server configurations are kept separate from application code</li>
        </ul>
      </section>

      <section class="section">
        <h2>Role-Based Access Control</h2>
        <p>JagWell implements a multi-tier permission system:</p>
        
        <h3>Admin Permissions</h3>
        <ul>
          <li>Manage users (create, edit, delete)</li>
          <li>Edit patient information (excluding patient ID)</li>
          <li>Edit wellness records (excluding critical IDs)</li>
          <li>Manage treatments</li>
        </ul>
        
        <h3>Doctor Permissions</h3>
        <ul>
          <li>Manage patients</li>
          <li>Log and edit wellness records</li>
          <li>Manage treatments</li>
          <li>View wellness trends</li>
        </ul>
        
        <h3>Student Permissions</h3>
        <ul>
          <li>Log their own wellness data</li>
          <li>View their own wellness history</li>
          <li>View their own wellness trends</li>
        </ul>
      </section>

      <section class="section">
        <h2>Security Best Practices</h2>
        
        <h3>For Administrators</h3>
        <ul>
          <li>Regularly audit user accounts and permissions</li>
          <li>Keep the application updated to the latest version</li>
          <li>Monitor access logs for unusual activities</li>
          <li>Use strong, unique passwords for all accounts</li>
        </ul>
        
        <h3>For Healthcare Providers</h3>
        <ul>
          <li>Only access patient information when necessary for care</li>
          <li>Log out of the system when leaving your workstation</li>
          <li>Verify patient identity before updating records</li>
          <li>Report any suspicious activities</li>
        </ul>
        
        <h3>For Students</h3>
        <ul>
          <li>Use strong passwords and don't share your account</li>
          <li>Log out of shared computers</li>
          <li>Report any unusual account activity</li>
          <li>Only enter accurate wellness information</li>
        </ul>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 JagWell Wellness App. All rights reserved.</p>
    </footer>
  </div>

  <script src="js/script.js"></script>
</body>
</html>